import{a as Ue}from"./chunk-DYA5ARDG.js";import{a as x}from"./chunk-TEW3OLRJ.js";import{b as Ge,c as qe,d as Ke}from"./chunk-NF3GGHQY.js";import"./chunk-HSGMPGIY.js";import{a as ze,b as $e}from"./chunk-RA4VD5ZQ.js";import{A as Me,B as Ie,C as Ee,D as Te,E as ke,F as Fe,G as Le,H as Re,I as Ne,J as Ve,K as Ae,L as je,M as Pe,N as Be,O as Xe,P as E,Q as Oe,R as He,W as We,da as B,ea as Je,h as se,j as de,k as V,l as ce,m as P,t as be,u as Ce,v as _e,w as xe,x as Se,y as we,z as ye}from"./chunk-KCRUWNJC.js";import"./chunk-2DMVZMIS.js";import{b as A,d as k,f as j,g as pe,i as ue,j as fe,k as ge,m as he,n as ve,p as De}from"./chunk-CY7E6JQX.js";import{g as me,i as le,j as N,k as J}from"./chunk-UCASUQWF.js";import"./chunk-CARY4E7O.js";import{$b as _,Bc as W,Cc as q,Ec as re,Ha as h,Hb as c,Ia as v,Mb as s,Pb as G,Qa as Q,Sc as oe,Vb as n,Wb as a,Xb as D,Yb as f,Zb as u,cc as p,ec as b,hc as Y,lb as U,ma as y,md as L,oc as I,pb as m,pc as o,pd as R,qb as d,qc as Z,rc as w,sc as ee,uc as te,vc as ie,wc as ne,xa as C,ya as M,zc as ae}from"./chunk-UI7FGHJG.js";var X=class i{constructor(t,e,r){this.data=t;this.matDialogRef=e;this.store=r;this.delId=t.driverId}delId;DeleteDriver(){this.store.deleteSingleDriverData(this.delId);let t={api:!0};this.matDialogRef.close(t)}static \u0275fac=function(e){return new(e||i)(d(Ve),d(Ne),d(x))};static \u0275cmp=C({type:i,selectors:[["app-confirmation"]],decls:10,vars:5,consts:[["mat-dialog-title",""],[1,"my-4","text-center"],["align","end"],["mat-stroked-button","","type","button",3,"mat-dialog-close"],["mat-stroked-button","","type","button",3,"click"]],template:function(e,r){e&1&&(n(0,"h4",0),o(1,"Delete Driver"),a(),n(2,"mat-dialog-content")(3,"h5",1),o(4,"Are you sure you want to delete this Driver ?"),a()(),n(5,"mat-dialog-actions",2)(6,"button",3),o(7,"Cancel"),a(),n(8,"button",4),p("click",function(){return r.DeleteDriver()}),o(9,"Delete"),a()()),e&2&&(m(6),G("mx-2"),s("mat-dialog-close",!1),m(2),G("mx-2"))},dependencies:[E,je,Pe,Xe,Be]})};function it(i,t){if(i&1){let e=_();f(0),n(1,"mat-slide-toggle",2),p("change",function(l){h(e);let g=b();return v(g.ChangeStatus(l))}),a(),u()}if(i&2){let e=b();m(),s("checked",e.isChecked)}}function nt(i,t){if(i&1){let e=_();n(0,"button",3),p("click",function(){h(e);let l=b();return v(l.setStatus())}),o(1,"Resend Invite"),a()}}var O=class i{status;toggleId;changedStatusData=new Q;isChecked=!0;constructor(){}ngOnInit(){this.status=="active"?this.isChecked=!0:this.isChecked=!1}ChangeStatus(t){this.status=="active"?this.status="inactive":this.status="active";let e={id:this.toggleId,status:this.status};setTimeout(()=>{this.changedStatusData.emit(e)},250),console.log(this.isChecked,e)}setStatus(){let t={id:this.toggleId,status:"active"};this.changedStatusData.emit(t)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=C({type:i,selectors:[["app-custome-switch-toggle"]],inputs:{status:"status",toggleId:"toggleId"},outputs:{changedStatusData:"changedStatusData"},decls:3,vars:2,consts:[["demo",""],[4,"ngIf","ngIfElse"],[3,"change","checked"],[1,"inviteBtn",3,"click"]],template:function(e,r){if(e&1&&c(0,it,2,1,"ng-container",1)(1,nt,2,0,"ng-template",null,0,re),e&2){let l=I(2);s("ngIf",r.status!="invite")("ngIfElse",l)}},dependencies:[L,We],styles:[`.mdc-switch{width:120px!important}.mdc-switch--unselected .mdc-switch__icon{display:none!important}.mdc-switch__handle-track{width:calc(100% - 53px)!important;transition:transform .4s 0ms cubic-bezier(.4,0,.2,1)!important}.mdc-switch--unselected:enabled .mdc-switch__handle:after{background-color:#fff!important}.mdc-switch__track:before,.mdc-switch__track:after{content:"Disabled"!important;display:flex;align-items:center;padding-left:38px;border:none!important}.mdc-switch__ripple{display:none!important}.mdc-switch--selected .mdc-switch__track:after{content:"Enabled"!important;color:#fff!important;padding-left:20px!important;padding-right:38px!important}.inviteBtn{width:130px;border-radius:5px;color:#00aae4;padding:8px 0;font-size:20px;background-color:#ddd;border:none}
`],encapsulation:2})};var st=()=>["noDataFound"];function dt(i,t){if(i&1){let e=_();n(0,"button",33),p("click",function(){h(e);let l=b(),g=I(10);return g.value="",v(l.pageRefresh("searchReset"))}),n(1,"span",34),o(2,"close"),a()()}}function ct(i,t){i&1&&(n(0,"th",35),o(1," Name "),a())}function pt(i,t){if(i&1&&(f(0),o(1),u()),i&2){let e=t.ngIf;m(),ee(" ",e[0]==null?null:e[0].substring(0,1),"",e[1]==null?null:e[1].substring(0,1)," ")}}function ut(i,t){if(i&1&&(n(0,"td",36)(1,"div",5)(2,"div",37),c(3,pt,2,2,"ng-container",38),a(),n(4,"div",39),o(5),a()()()),i&2){let e=t.$implicit;m(3),s("ngIf",e.name==null?null:e.name.split(" ")),m(2),w(" ",e.name," ")}}function ft(i,t){i&1&&(n(0,"th",35),o(1," Email "),a())}function gt(i,t){if(i&1&&(n(0,"td",40),o(1),a()),i&2){let e=t.$implicit;m(),w(" ",e.email," ")}}function ht(i,t){i&1&&(n(0,"th",35),o(1," Phone Number "),a())}function vt(i,t){if(i&1&&(n(0,"td",40),o(1),a()),i&2){let e=t.$implicit;m(),w(" ",e.phone," ")}}function Dt(i,t){i&1&&(n(0,"th",35),o(1," Status "),a())}function bt(i,t){if(i&1){let e=_();n(0,"td",40)(1,"app-custome-switch-toggle",41),p("changedStatusData",function(l){h(e);let g=b();return v(g.UpdateStatus(l))}),a()()}if(i&2){let e=t.$implicit;m(),s("toggleId",e.id)("status",e.status)}}function Ct(i,t){i&1&&(n(0,"th",35),o(1," Action "),a())}function _t(i,t){if(i&1){let e=_();n(0,"td",40)(1,"button",42),D(2,"span",43),W(3,"icon"),a(),n(4,"button",44),p("click",function(){let l=h(e).$implicit,g=b();return v(g.DeleteDriver(l.id))}),D(5,"span",43),W(6,"icon"),a()()}if(i&2){let e=t.$implicit;m(),Y("routerLink","edit-driver/",e.id,""),m(),s("innerHTML",q(3,4,"tableActionEdit"),U),m(3),s("innerHTML",q(6,6,"tableActionDelete"),U)}}function xt(i,t){i&1&&D(0,"tr",45)}function St(i,t){i&1&&D(0,"tr",46)}function wt(i,t){i&1&&(n(0,"td",47)(1,"p",48),o(2," No Data Found... "),a()())}function yt(i,t){if(i&1&&D(0,"tr",49),i&2){let e=b();s("hidden",e.isDataFound)}}var H=class i{constructor(t,e,r){this.dialog=t;this.store=e;this.cdRef=r}length;AllDriversData=[];FinalDataShow=[];searchString="";FilterData;limit=10;currentPage=1;isDataFound=!0;Drivers$;searchValue="";dataSource;displayedColumns=["Name","Email","Phone","Status","Action"];ngOnInit(){this.store.loadAllDrivers(),this.Drivers$=this.store.Drivers$,this.Drivers$.subscribe(t=>{t.length!=0&&this.UpdateTableData()})}UpdateTableData(){this.Drivers$.subscribe(t=>{t.length!=0&&(this.AllDriversData=t,this.length=t.length,this.ShowDataAccordingPage())})}ShowDataAccordingPage(){console.log(this.currentPage,this.limit),this.FinalDataShow=this.AllDriversData.slice((this.currentPage-1)*this.limit,this.currentPage*this.limit),console.log(this.FinalDataShow),this.dataSource=new Re(this.FinalDataShow),this.AllDriversData.length!=0?this.isDataFound=!0:this.isDataFound=!1,this.cdRef.detectChanges()}paginationChange(t){this.currentPage=t.currentPage,this.limit=t.limit,console.log(this.currentPage,this.limit),this.ShowDataAccordingPage()}pageRefresh(t){this.UpdateTableData()}tableSearching(t){this.Drivers$.subscribe(e=>{this.AllDriversData=e,e&&(this.searchString=t.toLocaleLowerCase().trim().replace(/\s/g,""),this.FilterData=this.AllDriversData.filter(r=>{if(r.name.toLowerCase().trim().replace(/\s/g,"").startsWith(this.searchString))return r}),t?(this.AllDriversData=this.FilterData,this.length=this.FilterData.length,this.ShowDataAccordingPage()):this.UpdateTableData())})}DeleteDriver(t){this.dialog.open(X,{maxWidth:"500px",minWidth:"60%",width:"500px",data:{driverId:t}}).afterClosed().subscribe(r=>{r.api&&this.UpdateTableData()})}UpdateStatus(t){let e={updId:t.id,updStatus:t.status};this.store.updateSingleDriverStatus(e),console.log(t)}static \u0275fac=function(e){return new(e||i)(d(Ae),d(x),d(oe))};static \u0275cmp=C({type:i,selectors:[["app-driver-list"]],decls:49,vars:11,consts:[["search",""],[1,"main"],[1,"container-fluid","page-header"],[1,"row","m-0"],[1,"col-6","px-1"],[1,"d-flex","align-items-center"],[1,"m-0"],[1,"ms-3"],[1,"example-full-width"],["placeholder","Search Driver","type","text","matInput","",3,"ngModelChange","keyup","ngModel"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix",""],[1,"d-flex","justify-content-end","align-items-center"],["mat-raised-button","","routerLink","create-driver"],["mat-mini-fab","",1,"primary-fab-btn","ms-3"],[1,"page-content"],["tabindex","0",1,"example-container","mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","Name","sticky",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","primary-text",4,"matCellDef"],["matColumnDef","Email"],["mat-cell","",4,"matCellDef"],["matColumnDef","Phone"],["matColumnDef","Status"],["matColumnDef","Action"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["matColumnDef","noDataFound"],["mat-cell","","colspan","8",4,"matFooterCellDef"],["mat-footer-row","",3,"hidden",4,"matFooterRowDef"],[1,"pagination-wraper"],[3,"change","moduleName","totalRecords","length"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"material-icons"],["mat-header-cell",""],["mat-cell","",1,"primary-text"],[1,"roundedLable"],[4,"ngIf"],[1,"ms-2"],["mat-cell",""],[3,"changedStatusData","toggleId","status"],["mat-icon-button","",3,"routerLink"],[3,"innerHTML"],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row",""],["mat-cell","","colspan","8"],[1,"text-center","mt-4"],["mat-footer-row","",3,"hidden"]],template:function(e,r){if(e&1){let l=_();n(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h2",6),o(6,"Drivers"),a(),n(7,"div",7)(8,"mat-form-field",8)(9,"input",9,0),ne("ngModelChange",function(S){return h(l),ie(r.searchValue,S)||(r.searchValue=S),v(S)}),p("keyup",function(){h(l);let S=I(10);return v(r.tableSearching(S.value))}),a(),c(11,dt,3,0,"button",10),n(12,"mat-icon",11),o(13,"search"),a()()()()(),n(14,"div",4)(15,"div",12)(16,"button",13),o(17,"Add Driver"),a(),n(18,"button",14)(19,"mat-icon"),o(20,"sync"),a()()()()()(),n(21,"div",15)(22,"section",16)(23,"table",17),f(24,18),c(25,ct,2,0,"th",19)(26,ut,6,2,"td",20),u(),f(27,21),c(28,ft,2,0,"th",19)(29,gt,2,1,"td",22),u(),f(30,23),c(31,ht,2,0,"th",19)(32,vt,2,1,"td",22),u(),f(33,24),c(34,Dt,2,0,"th",19)(35,bt,2,2,"td",22),u(),f(36,25),c(37,Ct,2,0,"th",19)(38,_t,7,8,"td",22),u(),c(39,xt,1,0,"tr",26)(40,St,1,0,"tr",27),n(41,"tbody"),f(42)(43,28),c(44,wt,3,0,"td",29),u(),c(45,yt,1,1,"tr",30),u(),a()()(),n(46,"div",31),f(47),n(48,"app-custom-pagination",32),p("change",function(S){return h(l),v(r.paginationChange(S))}),a(),u(),a()()()}if(e&2){let l=I(10);m(9),te("ngModel",r.searchValue),m(2),s("ngIf",l.value),m(12),s("dataSource",r.dataSource),m(16),s("matHeaderRowDef",r.displayedColumns)("matHeaderRowDefSticky",!0),m(),s("matRowDefColumns",r.displayedColumns),m(5),s("matFooterRowDef",ae(10,st)),m(3),s("moduleName","Drivers")("totalRecords",r.length)("length",r.length)}},dependencies:[L,N,A,j,ue,V,de,ce,E,He,Oe,P,Ce,xe,Ie,we,_e,Te,Se,Ee,ye,Me,ke,Le,Fe,Ge,O,be],styles:[`.main{height:calc(100vh - 70px);overflow:auto}.main .page-header{padding:16px 20.8px!important}.main .page-header .mat-mdc-form-field-infix{min-height:30px!important;padding:5px 0!important;width:268px!important}.main .page-header .mat-mdc-form-field-infix .mat-mdc-form-field-input-control{font-size:20px!important}.main .page-header .mat-mdc-form-field-infix .mdc-text-field__input:focus{outline:none!important}.main .page-header .mat-mdc-form-field-subscript-wrapper{display:none}.main .page-header .mat-mdc-raised-button:not(:disabled){background-color:#01aae4;color:#f8f9fc}.main .page-header .mat-mdc-raised-button:not(:disabled) .primary-fab-btn{border:1px solid #01AAE4}.main .page-content{padding:0 20.8px}.main .page-content .example-container{min-height:calc(100vh - 142px);border-radius:15px!important}.main .page-content table{width:100%;border-radius:15px 15px 0 0!important}.main .page-content .mat-mdc-table thead{background-color:#0d4571!important;border-radius:15px 15px 0 0!important}.main .page-content .mat-mdc-table thead tr th:first-child{border-radius:15px 0 0!important}.main .page-content .mat-mdc-table thead tr th:last-child{border-radius:0 15px 0 0}.main .page-content .mat-mdc-header-row{color:#fff!important}.main .page-content .mat-mdc-table tbody tr:nth-child(odd){background-color:#f5f9fb!important}.main .page-content .mat-mdc-table tbody:nth-child(2n){background-color:#fff!important}.main .page-content .primary-text{color:#01aae4!important}.main .page-content .roundedLable{width:40px;height:40px;display:flex;font-size:12px;color:#0d4571;justify-content:center;align-items:center;border-radius:50%;background-color:#dae1e6}
`],encapsulation:2})};var F=class i{constructor(t,e,r,l){this.formBuilder=t;this.store=e;this.router=r;this.activatedRoute=l}DriverForm;editId="";editMode=!1;ngOnInit(){this.createDriverForm(),this.editId=this.activatedRoute.snapshot.paramMap.get("id"),this.editId&&(this.editMode=!0,this.store.getDriverDataById(this.editId),this.store.DriverDataById$.subscribe(t=>{console.log(t),this.DriverForm.patchValue(t)}))}createDriverForm(){this.DriverForm=this.formBuilder.group({name:["",[k.required]],email:["",[k.required,k.email]],phone:["",[k.required]],status:["invite"]})}createDriver(){if(console.log(this.DriverForm.value),this.editMode){let t={updId:this.editId,updDriverData:this.DriverForm.value};console.log(t),this.store.updateSingleDriverData(t)}else this.store.addSingleDriverData(this.DriverForm.value);this.router.navigateByUrl("/fleet-management/drivers")}static \u0275fac=function(e){return new(e||i)(d(De),d(x),d(le),d(me))};static \u0275cmp=C({type:i,selectors:[["app-create-driver"]],decls:44,vars:5,consts:[[3,"ngSubmit","formGroup"],[1,"main"],[1,"container-fluid","page-header"],[1,"row","m-0"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/fleet-management/drivers"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-6","px-1"],[1,"d-flex","align-items-center"],[1,"m-0"],[1,"d-flex","justify-content-end","align-items-center"],["mat-raised-button","","type","submit",3,"disabled"],["mat-stroked-button","","type","button","routerLink","/fleet-management/drivers",1,"ms-3","btn-outline-danger"],[1,"page-content"],[1,"container-fluid"],[1,"mx-5","create-driver"],[1,"row","my-3"],[1,"primary-text"],[1,"row"],[1,"col-4"],[1,"example-full-width"],["matInput","","placeholder","Add Name","capitalize","","type","text","maxlength","50","formControlName","name"],["matInput","","placeholder","Add Email","capitalize","","type","email","formControlName","email"],["matInput","","type","text","placeholder","(XXX) XXX-XXX","mask","(XXX) XXX-XXXX","formControlName","phone"]],template:function(e,r){e&1&&(n(0,"form",0),p("ngSubmit",function(){return r.createDriver()}),n(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ol",5)(6,"li",6)(7,"a",7),o(8,"Driver"),a()(),n(9,"li",8),o(10),a()()()(),n(11,"div",3)(12,"div",9)(13,"div",10)(14,"h2",11),o(15),a()()(),n(16,"div",9)(17,"div",12)(18,"button",13),o(19),a(),n(20,"button",14),o(21,"Cancel"),a()()()()(),n(22,"div",15)(23,"div",16)(24,"div",17)(25,"div",18)(26,"h3",19),o(27,"Basic Details"),a()(),n(28,"div",20)(29,"div",21)(30,"mat-form-field",22)(31,"mat-label"),o(32,"Driver Name"),a(),D(33,"input",23),a()(),n(34,"div",21)(35,"mat-form-field",22)(36,"mat-label"),o(37,"Driver Email"),a(),D(38,"input",24),a()(),n(39,"div",21)(40,"mat-form-field",22)(41,"mat-label"),o(42,"Driver Phone Number"),a(),D(43,"input",25),a()()()()()()()()),e&2&&(s("formGroup",r.DriverForm),m(10),w("",r.editMode?"Edit":"Create"," Driver"),m(5),w("",r.editMode?"Edit":"Create"," Driver"),m(3),s("disabled",!r.DriverForm.valid),m(),Z(r.editMode?"Update":"Save"))},dependencies:[N,fe,A,j,pe,ve,ge,he,V,se,E,P,$e,Ue],styles:[`.main{height:calc(100vh - 70px);overflow:auto}.main .primary-text{color:#01aae4}.main .breadcrumb{margin-bottom:8px!important}.main .page-header{padding:16px 20.8px!important}.main .page-header .mat-mdc-form-field-infix{min-height:30px!important;padding:5px 0!important;width:268px!important}.main .page-header .mat-mdc-form-field-infix .mat-mdc-form-field-input-control{font-size:20px!important}.main .page-header .mat-mdc-form-field-infix .mdc-text-field__input:focus{outline:none!important}.main .page-header .mat-mdc-form-field-subscript-wrapper{display:none}.main .page-header .mat-mdc-raised-button:not(:disabled){background-color:#01aae4;color:#f8f9fc}.main .page-header .mat-mdc-raised-button:not(:disabled) .primary-fab-btn{border:1px solid #01AAE4}.main .page-header .btn-outline-danger{border-color:gray!important}.main .page-content{padding:0 20.8px}.main .page-content .create-driver .mat-mdc-form-field{width:100%!important}.main .page-content .create-driver .mat-mdc-outlined-button:not(:disabled){color:#eb5e55}
`],encapsulation:2})};var Mt=[{path:"",component:H},{path:"create-driver",component:F},{path:"edit-driver/:id",component:F}],z=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=M({type:i});static \u0275inj=y({imports:[J.forChild(Mt),J]})};var $=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=M({type:i});static \u0275inj=y({imports:[R,B]})};var Ze=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=M({type:i});static \u0275inj=y({providers:[ze(),x],imports:[R,z,B,qe,Je,Ke,$]})};export{Ze as DriverModule};
